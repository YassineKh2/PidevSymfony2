{% extends 'baseBack.html.twig' %}
{% block title %}Admin Evenement {% endblock %}

{% block body %}

    {{ form_start(form,{'attr': {'novalidate': 'novalidate'}} ) }}
<div class="content-body" style="min-height: 876px;">
    <div class="container-fluid">

    <div class="formevents">
        <div class="row">
            <div class="col-xl-12 col-xxl-12">
                <div class="card">
                    <div class="card-header">
                        <h4 class="card-title">Ajouter un evenement</h4>
                    </div>
                    <div class="card-body">
                        <form action="#" id="step-form-horizontal" class="step-form-horizontal">
                            <div>
                                <section>
                                    <div class="row">
                                        <div class="col-lg-12 mb-4">
                                            <div class="form-group">
                                                <label class="text-label">nom evenement</label>
                                                <div class="input-group">
                                                    {{ form_widget(form.NomEvenement, { 'attr': {'class': 'form-control' } })}}
                                                </div>
                                                <li class="text-danger">{{ form_errors(form.NomEvenement, { 'attr': {'class': 'form-control' } })}}</li>
                                            </div>
                                        </div>

                                        <div class="col-lg-12 mb-4">
                                            <div class="form-group">
                                                <label class="text-label">Date Evenement</label>
                                                <div class="input-group">
                                                    {{ form_widget(form.DateEvenement, { 'attr': {'class': 'form-control' } })}}
                                                </div>
                                                <li class="text-danger">{{ form_errors(form.DateEvenement, { 'attr': {'class': 'form-control' } })}}</li>
                                            </div>
                                        </div>

                                        <div class="col-lg-12 mb-4">
                                            <div class="form-group">
                                                <label class="text-label">Prix Evenement</label>
                                                <div class="input-group">
                                                    {{ form_widget(form.PrixEvenement, { 'attr': {'class': 'form-control' } })}}
                                                </div>
                                                <li class="text-danger">{{ form_errors(form.PrixEvenement) }}</li>
                                            </div>
                                        </div>

                                        <div class="col-lg-12 mb-4">
                                            <div class="form-group">
                                                <label class="text-label">TypeEvenement</label>
                                                <div class="input-group">
                                                    {{ form_widget(form.TypeEvenement, { 'attr': {'class': 'form-control' } })}}
                                                </div>
                                                <li class="text-danger">{{ form_errors(form.TypeEvenement) }}</li>
                                            </div>
                                        </div>
                                        <div class="col-lg-12 mb-4">
                                            <div class="form-group">
                                                <label class="text-label">Description</label>
                                                <div class="input-group">
                                                    {{ form_widget(form.Description, { 'attr': {'class': 'form-control' } })}}
                                                </div>
                                                <li class="text-danger">{{ form_errors(form.Description, { 'attr': {'class': 'form-control' } })}}</li>
                                            </div>
                                        </div>
                                        <div class="col-lg-12 mb-4">
                                            <div class="form-group">
                                                <label class="text-label">Nombre de Participant Evenement</label>
                                                <div class="input-group">
                                                    {{ form_widget(form.NombreParticipantEvenement, { 'attr': {'class': 'form-control' } })}}
                                                </div>
                                                <li class="text-danger">{{ form_errors(form.NombreParticipantEvenement) }}</li>
                                            </div>
                                        </div>

                                        <div class="col-lg-12 mb-4">
                                            <div class="form-group">
                                                <label class="text-label">Organisateur</label>
                                                <div class="input-group">
                                                    {{ form_widget(form.Organisateur, { 'attr': {'class': 'form-control' } })}}
                                                </div>
                                                <li class="text-danger">{{ form_errors(form.Organisateur) }}</li>
                                            </div>
                                        </div>

                                        <div class="col-lg-12 mb-4">
                                            <div class="form-group">
                                                <label class="text-label">Image de l'evenement</label>
                                                <div class="input-group">

                                                    <div class="input-group mb-3">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text">Upload</span>
                                                        </div>
                                                        <div class="custom-file">
                                                            <label class="custom-file-label">Chosiez une image</label>
                                                            {{ form_widget(form.Imageevenement, { 'attr': {'class': 'custom-file-input' } })}}
                                                        </div>
                                                    </div>
                                                    <li class="text-danger">{{ form_errors(form.Imageevenement, { 'attr': {'class': 'form-control' } })}}</li>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="btn btn-primary mb-2">{{ button_label|default('Ajouter') }}</button>
                                </section>



                                {{ form_end(form) }}


                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.js"></script>

        <script>
            var map = L.map('map').setView([36.901107, 10.19012], 13);

            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors',
                maxZoom: 18,
                tileSize: 512,
                zoomOffset: -1
            }).addTo(map);

            var marker = L.marker([37.7749, -122.4194], { draggable: true }).addTo(map);

            marker.on('dragend', function (event) {
                var marker = event.target;
                var position = marker.getLatLng();
                document.getElementById("form_latitude").value = position.lat;
                document.getElementById("form_longitude").value = position.lng;
            });
        </script>






        <a class="btn btn-outline-secondary mb-2" href="{{ path('app_evenement_index') }}">Annuler</a>
    </div>
    </div>
</div>
    <style>

        .formevents {
            margin-top: 150px;
            position: relative;
            width: 1000px;
            left: 200px;
            /*right: 100px;*/
        }
    </style>
{% endblock %}






